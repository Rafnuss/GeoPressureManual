--- 
title: "A User Manual for GeoPressureR"
author: "Raphaël Nussbaumer"
site: bookdown::bookdown_site
output: bookdown::bs4_book
bibliography: ["book.bib"]
csl: chicago-fullnote-bibliography.csl
link-citations: yes
github-repo: rafnuss/GeoPressureManual
description: "Learn how to use GeoPressureR with the Great Reed Warbler 18LX."
url: "https://raphaelnussbaumer.com/GeoPressureManual/"
favicon: "assets/geopressuremanual.ico"
cover-image: "assets/cover.png"
suppress-bibliography: true
---

# Introduction {-}

<img src="assets/cover.png" class="cover" width="250" height="328"/>Understanding the temporal and spatial use of habitats by wildlife is crucial to apprehend ecological relationships in nature. Tracking small birds and bats requires tags of less than 2g, therefore lightweight geolocators are currently the most affordable and widespread option. Recent multi-sensor geolocators now capture accelerometer and pressure data in addition to light, offering new potential to refine the accuracy of bird positioning. In particular, as atmospheric pressure varies with space and time, pressure timeseries at a single location have a unique signature which can be used for global positioning independent of light recordings.

## Geolocation by pressure

The best introduction to geolocation by pressure is, in my opinion, to watch a video about it. Here is a 10min presentation which present the motivation, provides an overview of the method and illustrates some possible results. 

<iframe width="100%" height="388" src="https://www.youtube.com/embed/U7jAK9nZNQU?controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

These two papers provide more detail on the method:

> Raphaël Nussbaumer, Mathieu Gravey, Martins Briedis, Felix Liechti. Global positioning with animal-borne pressure sensors, 14 June 2022, PREPRINT (Version 2) available at Research Square <https://doi.org/10.21203/rs.3.rs-1381915/v2>

> Raphaël Nussbaumer, Mathieu Gravey, Martins Briedis, Felix Liechti. Inferring bird’s trajectory from multi-sensor geolocators and remote sensing with a graphical model, 25 May 2022, PREPRINT (Version 1) available at Research Square <https://doi.org/10.21203/rs.3.rs-1693751/v1>


## The GeoPressure suite

The GeoPressure suite includes several tools: 

- [GeoPressureR](https://github.com/Rafnuss/GeoPressureR) is the main R package which implements the full method and functionalities
- [GeoPressureManual]() is the user guide developed to help you learn to use GeoPressureR
- [GeoPressureTemplate](https://github.com/Rafnuss/GeoPressureTemplate) is a [template Github repository](https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-repository-from-a-template) to help kickstart your project 
- [GeoPressureAPI](https://github.com/Rafnuss/GeoPressureAPI) is a JSON API that makes it easy to compute the mismatch of a geolocator pressure timeseries with the atmospheric pressure from ERA5 reanalysis data. This API is called directly by the functions `geopressure_map()` and `geopressure_ts()` in GeoPressureR, so you don't have to worry about it. 


## Installation

To start, install the GeoPressureR package from Github using the following line: 
```{r, eval = FALSE}
install.packages("devtools")
devtools::install_github("Rafnuss/GeoPressureR")
```

We will be needing some additional packages which can be installed from `DESCRIPTION` with

```{r, eval = FALSE}
devtools::install()
```

Finally, we can load them with

```{r setup, message=F}
library(GeoPressureR)

# Only used for some visualization. The code to compute the light position is included in `GeoPressureR`
library(GeoLocTools)
setupGeolocation()

# ERA5 data download library
library(ecmwfr)

# Graph library 
library(igraph)

# Plotting library
library(ggplot2)
library(gridExtra)
library(plotly)
library(RColorBrewer)

# Interactif figure library
library(leaflet)
library(leaflet.extras)
```

